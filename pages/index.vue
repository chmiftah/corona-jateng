<template>
  <div class="bg-gray-100">
   <div class="p-12">
     <section class="flex flex-col md:flex-row w-full">
       <div class="w-full md:w-1/2 p-4">
         <img src="https://firebasestorage.googleapis.com/v0/b/jabarprov-covid19.appspot.com/o/public%2Fbanner%2FTanggapan%20Soal%20Vaksin.jpeg?alt=media&token=37412377-21b3-461a-bd6c-eb53007c99cb" class="rounded-lg shadow-md">
       </div >
       <div class="w-full md:w-1/2 p-4">
        <div class="flex w-full mb-10">
          <div class="w-1/2 p-4 rounded-md shadow-md mr-4 bg-white">
              <div class="font-semibold text-2xl  mb-1">Call Center</div>
              <div class="font-light text-md text-gray-700 mb-6">No. Darurat</div>
              <div class="flex">
                <span>
                <svg class="text-blue-600 w-10 h-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M14.414 7l3.293-3.293a1 1 0 00-1.414-1.414L13 5.586V4a1 1 0 10-2 0v4.003a.996.996 0 00.617.921A.997.997 0 0012 9h4a1 1 0 100-2h-1.586z" />
                  <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                </svg>

              </span> <span class="text-4xl font-semibold text-blue-600 ml-8 -mt-2">   199
              </span>
              </div>
          </div>
         <div class="w-1/2 p-4 rounded-md shadow-md ml-4 bg-white">
               <div class="font-semibold text-2xl  mb-1">Hotline</div>
              <div class="font-light text-md text-gray-700 mb-6">Chat WA seputar Covid-19</div>
              <div class="flex">
                <span>
                <svg class="text-blue-600 w-10 h-10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M14.414 7l3.293-3.293a1 1 0 00-1.414-1.414L13 5.586V4a1 1 0 10-2 0v4.003a.996.996 0 00.617.921A.997.997 0 0012 9h4a1 1 0 100-2h-1.586z" />
                  <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                </svg>

              </span> <span class="text-2xl font-semibold text-blue-600 ml-8 mt-2">   085 xxx xxx xxx
              </span>
              </div>
          </div>
        </div>
        <div class="w-full rounded-md shadow-md flex p-8 bg-white">
          <div class="w-1/2">
            <div class="font-light text-xl">
              Ikuti perkembangan terkini seputar Covid-19 dengan mengikuti kanal sosial media kami.
            </div>
          </div>
          <div class="w-1/2 flex p-6">
            <div class="ml-4">
              <svg class="w-10 h-10 text-blue-600" height="511pt" viewBox="0 0 511 511.9" width="511pt" xmlns="http://www.w3.org/2000/svg"><path d="m510.949219 150.5c-1.199219-27.199219-5.597657-45.898438-11.898438-62.101562-6.5-17.199219-16.5-32.597657-29.601562-45.398438-12.800781-13-28.300781-23.101562-45.300781-29.5-16.296876-6.300781-34.898438-10.699219-62.097657-11.898438-27.402343-1.300781-36.101562-1.601562-105.601562-1.601562s-78.199219.300781-105.5 1.5c-27.199219 1.199219-45.898438 5.601562-62.097657 11.898438-17.203124 6.5-32.601562 16.5-45.402343 29.601562-13 12.800781-23.097657 28.300781-29.5 45.300781-6.300781 16.300781-10.699219 34.898438-11.898438 62.097657-1.300781 27.402343-1.601562 36.101562-1.601562 105.601562s.300781 78.199219 1.5 105.5c1.199219 27.199219 5.601562 45.898438 11.902343 62.101562 6.5 17.199219 16.597657 32.597657 29.597657 45.398438 12.800781 13 28.300781 23.101562 45.300781 29.5 16.300781 6.300781 34.898438 10.699219 62.101562 11.898438 27.296876 1.203124 36 1.5 105.5 1.5s78.199219-.296876 105.5-1.5c27.199219-1.199219 45.898438-5.597657 62.097657-11.898438 34.402343-13.300781 61.601562-40.5 74.902343-74.898438 6.296876-16.300781 10.699219-34.902343 11.898438-62.101562 1.199219-27.300781 1.5-36 1.5-105.5s-.101562-78.199219-1.300781-105.5zm-46.097657 209c-1.101562 25-5.300781 38.5-8.800781 47.5-8.601562 22.300781-26.300781 40-48.601562 48.601562-9 3.5-22.597657 7.699219-47.5 8.796876-27 1.203124-35.097657 1.5-103.398438 1.5s-76.5-.296876-103.402343-1.5c-25-1.097657-38.5-5.296876-47.5-8.796876-11.097657-4.101562-21.199219-10.601562-29.398438-19.101562-8.5-8.300781-15-18.300781-19.101562-29.398438-3.5-9-7.699219-22.601562-8.796876-47.5-1.203124-27-1.5-35.101562-1.5-103.402343s.296876-76.5 1.5-103.398438c1.097657-25 5.296876-38.5 8.796876-47.5 4.101562-11.101562 10.601562-21.199219 19.203124-29.402343 8.296876-8.5 18.296876-15 29.398438-19.097657 9-3.5 22.601562-7.699219 47.5-8.800781 27-1.199219 35.101562-1.5 103.398438-1.5 68.402343 0 76.5.300781 103.402343 1.5 25 1.101562 38.5 5.300781 47.5 8.800781 11.097657 4.097657 21.199219 10.597657 29.398438 19.097657 8.5 8.300781 15 18.300781 19.101562 29.402343 3.5 9 7.699219 22.597657 8.800781 47.5 1.199219 27 1.5 35.097657 1.5 103.398438s-.300781 76.300781-1.5 103.300781zm0 0"/><path d="m256.449219 124.5c-72.597657 0-131.5 58.898438-131.5 131.5s58.902343 131.5 131.5 131.5c72.601562 0 131.5-58.898438 131.5-131.5s-58.898438-131.5-131.5-131.5zm0 216.800781c-47.097657 0-85.300781-38.199219-85.300781-85.300781s38.203124-85.300781 85.300781-85.300781c47.101562 0 85.300781 38.199219 85.300781 85.300781s-38.199219 85.300781-85.300781 85.300781zm0 0"/><path d="m423.851562 119.300781c0 16.953125-13.746093 30.699219-30.703124 30.699219-16.953126 0-30.699219-13.746094-30.699219-30.699219 0-16.957031 13.746093-30.699219 30.699219-30.699219 16.957031 0 30.703124 13.742188 30.703124 30.699219zm0 0"/></svg>
            </div>
            <div class="ml-4">
              <svg class="w-10 h-10 text-blue-600" viewBox="0 -47 512.00004 512" xmlns="http://www.w3.org/2000/svg"><path d="m512 55.964844c-32.207031 1.484375-31.503906 1.363281-35.144531 1.667968l19.074219-54.472656s-59.539063 21.902344-74.632813 25.820313c-39.640625-35.628907-98.5625-37.203125-140.6875-11.3125-34.496094 21.207031-53.011719 57.625-46.835937 100.191406-67.136719-9.316406-123.703126-41.140625-168.363282-94.789063l-14.125-16.964843-10.554687 19.382812c-13.339844 24.492188-17.769531 52.496094-12.476563 78.851563 2.171875 10.8125 5.863282 21.125 10.976563 30.78125l-12.117188-4.695313-1.4375 20.246094c-1.457031 20.566406 5.390625 44.574219 18.320313 64.214844 3.640625 5.53125 8.328125 11.605469 14.269531 17.597656l-6.261719-.960937 7.640625 23.199218c10.042969 30.480469 30.902344 54.0625 57.972657 67.171875-27.035157 11.472657-48.875 18.792969-84.773438 30.601563l-32.84375 10.796875 30.335938 16.585937c11.566406 6.324219 52.4375 27.445313 92.820312 33.78125 89.765625 14.078125 190.832031 2.613282 258.871094-58.664062 57.308594-51.613282 76.113281-125.03125 72.207031-201.433594-.589844-11.566406 2.578125-22.605469 8.921875-31.078125 12.707031-16.964844 48.765625-66.40625 48.84375-66.519531zm-72.832031 48.550781c-10.535157 14.066406-15.8125 32.03125-14.867188 50.578125 3.941407 77.066406-17.027343 136.832031-62.328125 177.628906-52.917968 47.660156-138.273437 66.367188-234.171875 51.324219-17.367187-2.722656-35.316406-8.820313-50.171875-14.910156 30.097656-10.355469 53.339844-19.585938 90.875-37.351563l52.398438-24.800781-57.851563-3.703125c-27.710937-1.773438-50.785156-15.203125-64.96875-37.007812 7.53125-.4375 14.792969-1.65625 22.023438-3.671876l55.175781-15.367187-55.636719-13.625c-27.035156-6.621094-42.445312-22.796875-50.613281-35.203125-5.363281-8.152344-8.867188-16.503906-10.96875-24.203125 5.578125 1.496094 12.082031 2.5625 22.570312 3.601563l51.496094 5.09375-40.800781-31.828126c-29.398437-22.929687-41.179687-57.378906-32.542969-90.496093 91.75 95.164062 199.476563 88.011719 210.320313 90.527343-2.386719-23.183593-2.449219-23.238281-3.074219-25.445312-13.886719-49.089844 16.546875-74.015625 30.273438-82.453125 28.671874-17.621094 74.183593-20.277344 105.707031 8.753906 6.808593 6.265625 16.015625 8.730469 24.632812 6.589844 7.734375-1.921875 14.082031-3.957031 20.296875-6.171875l-12.9375 36.945312 16.515625.011719c-3.117187 4.179688-6.855469 9.183594-11.351562 15.183594zm0 0"/></svg>
            </div>

          </div>
        </div>

       </div>
     </section>

     <section class="mb-12">
       <div class="mt-8 ml-4">
         <div class="font-bold text-3xl">
            Angka Kejadian di Jawa Tengah
         </div>
         <div class="font-light text-lg font-semibold text-gray-600">
           Update Terakhir : {{ timestamp }}  |  Sumber : https://api.kawalcorona.com/
         </div>
       </div>
       <div class="mt-12">
         <div class=" ">
           <span class="font-semibold text-xl px-12 text-green-600 border-b-4 border-green-600">Statistik</span>
           <div class="border-b-2 border-gray-400 mt-1"></div>
         </div>
       </div>
       <div class="mt-4">
         <div class="flex flex-col md:flex-row w-full p-4">

              <div class="w-full md:w-1/4 rounded-md shadow-md m-2 bg-indigo-800 p-2">
              <div class="text-center text-xl font-semibold text-gray-400 mt-2">
                TOTAL TERKONFIRMASI
              </div>
                <div class="flex p-4">
                      <div  class="w-1/2">

                            <div class="text-center text-xl font-semibold mb-1 text-white font-san">Jawa Tengah</div>
                            <div v-for="kasus in filter" :key="kasus.attributes.Kode_Provi" class="text-center text-3xl font-bold text-white">
                               {{ kasus.attributes.Kasus_Posi.toLocaleString() }}
                            </div>


                      </div>
                      <div class="w-1/2">
                          <div class="text-center text-xl font-semibold mb-1 text-white">Indonesia</div>
                            <div v-for="total in total" :key="total.id" class="text-center text-3xl font-bold text-white">
                                {{ total.confirmed.toLocaleString()}}
                            </div>
                      </div>

              </div>
              </div>

             <div class="w-full md:w-1/4 rounded-md shadow-md m-2 bg-white p-2">
              <div class="text-center text-xl font-semibold text-gray-700 mt-2">
                DALAM PERAWATAN
              </div>
                <div class="flex p-4">
                      <div  class="w-1/2">

                            <div class="text-center text-xl font-semibold mb-1 text-gray-800 font-san">Jawa Tengah</div>
                            <div v-for="kasus in filter" :key="kasus.attributes.Kode_Provi" class="text-center text-3xl font-bold text-yellow-500">
                               {{ (kasus.attributes.Kasus_Posi - kasus.attributes.Kasus_Semb -  kasus.attributes.Kasus_Meni).toLocaleString() }}
                            </div>


                      </div>
                      <div class="w-1/2">
                          <div class="text-center text-xl font-semibold mb-1 text-gray-800">Indonesia</div>
                          <div v-for="total in total" :key="total.id" class="text-center text-3xl font-bold text-yellow-500">
                                {{ total.active.toLocaleString()}}
                            </div>
                      </div>

              </div>
              </div>

                <div class="w-full md:w-1/4 rounded-md shadow-md m-2 bg-white p-2">
              <div class="text-center text-xl font-semibold text-gray-700 mt-2">
                SEMBUH
              </div>
                <div class="flex p-4">
                      <div  class="w-1/2">

                            <div class="text-center text-xl font-semibold mb-1 text-gray-800 font-san">Jawa Tengah</div>
                            <div v-for="kasus in filter" :key="kasus.attributes.Kode_Provi" class="text-center text-3xl font-bold text-green-500">
                               {{ kasus.attributes.Kasus_Semb.toLocaleString() }}
                            </div>


                      </div>
                      <div class="w-1/2">
                          <div class="text-center text-xl font-semibold mb-1 text-gray-700">Indonesia</div>
                         <div v-for="total in total" :key="total.id" class="text-center text-3xl font-bold text-green-500">
                                {{ total.recovered.toLocaleString()}}
                            </div>
                      </div>

              </div>
              </div>

             <div class="w-full md:w-1/4 rounded-md shadow-md m-2 bg-white p-2">
              <div class="text-center text-xl font-semibold text-gray-700 mt-2">
                MENIGGAL DUNIA
              </div>
                <div class="flex p-4">
                      <div  class="w-1/2">

                            <div class="text-center text-xl font-semibold mb-1 text-gray-800 font-san">Jawa Tengah</div>
                            <div v-for="kasus in filter" :key="kasus.attributes.Kode_Provi" class="text-center text-3xl font-bold text-red-500">
                               {{ kasus.attributes.Kasus_Meni.toLocaleString() }}
                            </div>


                      </div>
                      <div class="w-1/2">
                          <div class="text-center text-xl font-semibold mb-1 text-gray-800">Indonesia</div>
                            <div v-for="total in total" :key="total.id" class="text-center text-3xl font-bold text-red-500">
                                {{ total.deaths.toLocaleString()}}
                            </div>
                      </div>

              </div>
              </div>

         </div>

       </div>
       <div class="mt-12">
         <div class="w-full justify-center ">
           <div class="text-center text-4xl font-semibold mb-12">Apa Yang Harus Dilakukan</div>
           <div class="bg-green-600 p-12 m-4 rounded-lg">
                  <div class="text-2xl text-white font-semibold mb-6">Ketahui Resiko dari COVID-19</div>
                  <div class="text-xl text-white leading-relaxed ">COVID-19 merupakan penyakit yang disebabkan Novel Coronavirus 2019. Meski bergejala mirip dengan flu biasa, COVID-19 sampai saat ini memiliki fatalitas lebih tinggi. Virus ini juga menyebar dengan sangat cepat karena bisa pindah dari orang ke orang bahkan sebelum orang tersebut menunjukkan gejala.
                  <div class="text-xl text-white mt-12">Penting bagi Anda untuk menilai kondisi secara mandiri. Anda bergejala?</div>
                  <button class="rounded-md border-2 border-black hover:bg-green-400 focus:outline-none p-2 mt-6 text-black">Periksa Diri Saya</button>
            </div>
           </div>

         </div>
         <div>

         </div>
       </div>

     </section>
     <section class="md:flex flex-row flex-no-wrap  rounded-lg bg-white shadow-md p-8 m-4">
    <div class="lg:w-1/2 order-2">
     <header class="lg:max-w-2xl"><h2 class="mb-4 md:mb-8 text-left text-xl md:text-2xl"><b>Tetap Waspada dengan menerapkan AKB</b></h2> <p>
          Selama vaksin belum ditemukan, cara terbaik untuk kembali beraktivitas adalah dengan menerapkan ADAPTASI KEBIASAAN BARU (AKB) di tengah pandemi.
        </p></header>
        <br> <div class="flex flex-col items-stretch lg:max-w-2xl"><article class="text-black"><p>
            Berdasarkan Peraturan Gubernur No.63 tahun 2020, penentuan risiko kesehatan masyarakat di Daerah Kabupaten/Kota yang dikeluarkan oleh Satuan Tugas Penanganan Covid-19 Nasional secara berkala setiap minggu, diatur meliputi 4 ZONA RISIKO, yaitu:
          </p> <br> <ul class="list-disc list-inside"><li>
              Level 1 <strong class="text-green-600">Tidak terdampak/tidak ada kasus (Hijau)</strong></li> <li>
              Level 2 <strong class="text-yellow-500">Risiko rendah (Kuning)</strong></li> <li>
              Level 3 <strong class="text-orange-600">Risiko sedang (Oranye)</strong></li> <li>
              Level 4 <strong class="text-red-600">Risiko tinggi (Merah)</strong></li></ul> <br> <p>
            Wargi dapat melihat peta sebaran berdasarkan zona risiko
            <a href="https://covid19.go.id/peta-risiko" target="blank" class="text-blue-600 underline">di sini</a></p> <br> <p>
            Lalu, apa saja yang harus wargi Jabar perhatikan saat mulai beraktivitas kembali?
          </p> <br> <p>
            Hal mendasar yang perlu wargi terapkan adalah protokol kesehatan dalam setiap akan melakukan kegiatan seperti:
            <br> <br> <ul class="list-none"><li class="li-check-mark">
                Mencuci tangan secara berkala
              </li> <li class="li-check-mark">
                Gunakan masker saat keluar rumah
              </li> <li class="li-check-mark">
                Selalu menjaga jarak min. 1 meter dan hindari kontak fisik dengan orang lain
              </li> <li class="li-check-mark">
                Membawa hand sanitizer/tisu basah untuk kebersihan darurat (jika tidak ada fasilitas cuci tangan)
              </li> <li class="li-check-mark">
                Membawa peralatan makan sendiri
              </li></ul> <br> <br>
            Protokol harus selalu wargi terapkan di mana saja dan kapan saja. Saat sedang berbelanja di pasar,
            mulai kembali masuk kantor, ataupun sedang di area publik seperti halte dan taman. Jangan lupa
            untuk selalu pakai masker segera mandi dan ganti pakaian saat sampai di rumah.
            <br> <br>
            Jika merasa tidak sehat atau memiliki gejala demam,  maka wargi sebaiknya tetap berkegiatan dari rumah.
            Karena di setiap kebiasaan baru, selalu ada harapan untuk keluarga dan kerabat agar tetap aman.
            Terus waspada dan jaga diri jaga sesama dengan AKB.
          </p></article> <a href="/#" class="text-center md:self-center px-4 py-2 rounded-lg text-brand-green-darker hover:bg-green-200 border-2 border-solid border-brand-green" style="display: none;">
          Lihat Selengkapnya
        </a></div></div> <div class="hidden lg:block w-1/2 order-1 mr-4"><img src="https://firebasestorage.googleapis.com/v0/b/jabarprov-covid19.appspot.com/o/public%2Fakb-new.png?alt=media&amp;token=0ff7c0a2-c95c-4282-a2b8-68e7930e3610" class="w-full h-full object-contain object-top"></div>
      </section>





   </div>

  </div>
</template>

<script>
import axios from 'axios'
export default {
  data(){
    return{
      timestamp: "",
      kasus: [],
      keyword:"jawa tengah",
      total:[]
    }
  },
 created() {
            setInterval(this.getNow, 1000);
  },
 methods: {
          getNow: function() {
                  const monthNames = ["January", "February", "March", "April", "May", "June",
                                        "July", "August", "September", "October", "November", "December"
                                      ];

                    const today = new Date();
                    const date = +today.getDate()+' '+monthNames[(today.getMonth())]+' '+today.getFullYear()+' - ';
                    const time = today.getHours() + ":00 WIB"
                    const dateTime = date +' '+ time;
                    this.timestamp = dateTime;
          },
         async fetch()
          {
                  let response = await axios.get(`/api/v1/`)
                  console.log(response.data)
                  this.kasus= response.data
            },
          async totals()
          {
            let responses = await axios.get(`https://covid19.mathdro.id/api/countries/id/confirmed`)
            console.log(responses.data)
            this.total=responses.data
          }
            },

    mounted(){
      this.fetch()
      this.totals()
    },
  computed:{
     filter() {
      return this.kasus.filter((kasus) => {
        return kasus.attributes.Provinsi
          .toLowerCase()
          .includes(this.keyword.toLowerCase());
      });
    },
}
}
</script>

<style>

</style>